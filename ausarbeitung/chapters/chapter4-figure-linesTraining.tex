%!TEX root = ../Thesis.tex

\begin{figure}
	\pgfplotsset{width=\textwidth, height=5.5cm, compat=1.11}
	\begin{subfigure}{\textwidth}
		\begin{tikzpicture}
			\begin{semilogyaxis}[
				ylabel={Intersections count},
				xlabel={Different parameter combinations},
				xtick style={draw=none},
				xticklabels={,,},
				axis x line=bottom,
				axis y line=left,
				legend style={at={(1,0.05)}, anchor=south east},
				xmin=0,
				ymin=0,
				xmax=610,
				ymax=6000
				]
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,5670}) -- ({rel axis cs:0,0}|-{axis cs:0,5670});
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,70}) -- ({rel axis cs:0,0}|-{axis cs:0,70});
				\draw[orange, thick] ({axis cs:381,5000}) -- ({axis cs:381,0}|-{rel axis cs:0,0});
				\draw[orange, thick] ({axis cs:0,5000}) -- ({axis cs:381,5000});

				\addplot[color=red, smooth]          table[x expr=\coordindex+1, y=matched, mark=none] {plots/lines_hough_part.csv};
				\addplot[color=red!40!black, smooth] table[x expr=\coordindex+1, y=wrong, mark=none] {plots/lines_hough_part.csv};

				\addlegendentry{Sum of true positives on all images}
				\addlegendentry{Sum of all false positives on all images}
			\end{semilogyaxis}
		\end{tikzpicture}
		\vspace{-20pt}
		\label{fig:linesTraining-hough}
		\caption{Representative subset of 605 combinations of 60481 tested for the Houghline detector}
	\end{subfigure}
	\vspace{20pt}

	\begin{subfigure}{\textwidth}
		\begin{tikzpicture}
			\begin{semilogyaxis}[
				ylabel={Intersections count},
				xlabel={Different parameter combinations},
				xtick style={draw=none},
				xticklabels={,,},
				axis x line=bottom,
				axis y line=left,
				legend style={at={(1,0.05)}, anchor=south east},
				xmin=0,
				ymin=0,
				xmax=610,
				ymax=6000
				]
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,5670}) -- ({rel axis cs:0,0}|-{axis cs:0,5670});
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,70}) -- ({rel axis cs:0,0}|-{axis cs:0,70});
				\draw[orange, thick] ({axis cs:158,1175}) -- ({axis cs:158,0}|-{rel axis cs:0,0});
				\draw[orange, thick] ({axis cs:0,1175}) -- ({axis cs:158,1175});

				\addplot[color=blue, smooth]          table[x expr=\coordindex+1, y=matched, mark=none, smooth,] {plots/lines_lsd_part.csv};
				\addplot[color=blue!40!black, smooth] table[x expr=\coordindex+1, y=wrong, mark=none, smooth, blue] {plots/lines_lsd_part.csv};

				\addlegendentry{Sum of true positives on all images}
				\addlegendentry{Sum of all false positives on all images}
			\end{semilogyaxis}
		\end{tikzpicture}
		\vspace{-20pt}
		\label{fig:linesTraining-lsd}
		\caption{Representative subset of 605 combinations of 58321 tested for the LSD detector.}
	\end{subfigure}
	\vspace{20pt}

	\begin{subfigure}{\textwidth}
		\begin{tikzpicture}
			\begin{semilogyaxis}[
				ylabel={Intersections count},
				xlabel={Different parameter combinations},
				xtick style={draw=none},
				xticklabels={,,},
				axis x line=bottom,
				axis y line=left,
				legend style={at={(1,0.05)}, anchor=south east},
				xmin=0,
				ymin=0,
				xmax=610,
				ymax=15000
				]
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,5670}) -- ({rel axis cs:0,0}|-{axis cs:0,5670});
				\draw[white!70!black, thin] ({rel axis cs:1,0}|-{axis cs:0,70}) -- ({rel axis cs:0,0}|-{axis cs:0,70});
				\draw[orange, thick] ({axis cs:117,215}) -- ({axis cs:117,0}|-{rel axis cs:0,0});
				\draw[orange, thick] ({axis cs:0,215}) -- ({axis cs:117,215});

				\addplot[color=green, smooth]          table[x expr=\coordindex+1, y=matched, mark=none, smooth,] {plots/intersects_fast_part.csv};
				\addplot[color=green!40!black, smooth] table[x expr=\coordindex+1, y=wrong, mark=none, smooth, blue] {plots/intersects_fast_part.csv};

				\addlegendentry{Sum of true positives on all images}
				\addlegendentry{Sum of all false positives on all images}
			\end{semilogyaxis}
		\end{tikzpicture}
		\vspace{-20pt}
		\label{fig:linesTraining-fast}
		\caption{Representative subset of 605 combinations of 1440 tested for the FAST detector}
	\end{subfigure}

	\label{fig:linesTraining}
	\caption{The x-axis shows different combinations of parameters that we have evaluated. On the y-axis the true positives, false positives, totally available intersections (upper gray line) and number of analyzed images (lower gray line) per combination can be seen. The x-axis does not imply any order of the tested combinations; results have been simply sorted after number of correct intersections. We chose the parameter combination with the highest true positive rate whilst less false positives than evaluated files (orange line)}
\end{figure}
